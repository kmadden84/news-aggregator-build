(this.webpackJsonpnews=this.webpackJsonpnews||[]).push([[0],{28:function(e,t,n){e.exports=n(43)},33:function(e,t,n){},39:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),l=n.n(c),o=n(24),s=n(12),u=(n(33),function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Kevin's News Aggregator"))}),i=n(10),m=n(44),g=n(45),d=n(47),f=n(46),h=n(22),p=n(49),E=r.a.createContext({newsItems:[],currentHeadline:"Latest",errorMsg:"",pageNum:1,fetchTopHeadlines:function(){},fetchItems:function(e){}}),v=function(e){var t=Object(a.useContext)(E),n=Object(a.useState)(""),c=Object(i.a)(n,2),l=c[0],o=c[1];return r.a.createElement(m.a,null,r.a.createElement(g.a,{className:"topToggle"},r.a.createElement(d.a,null,r.a.createElement(d.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(d.a.Label,null,"Select News Category"),r.a.createElement(d.a.Control,{as:"select",onChange:function(e){return function(e){console.log("fetchItems"),e.preventDefault();var n=e.target.value;t.fetchItems(n,1),console.log(t.newsItems),document.getElementById(t.pageNum).classList.add("selected")}(e)}},r.a.createElement("option",{value:"Latest",selected:!0},"Latest News"),r.a.createElement("option",{value:"Bitcoin"},"Bitcoin News"),r.a.createElement("option",{value:"Trump"},"Trump News"),r.a.createElement("option",{value:"Entertainment"},"Entertainment News"),r.a.createElement("option",{value:"Technology"},"Technology"),r.a.createElement("option",{value:"Gaming"},"Gaming")))),r.a.createElement(f.a,{className:"mb-3"},r.a.createElement(h.a,{placeholder:"Search the news...","aria-label":"Searcg Box",value:l,onChange:function(e){return function(e){o(e.target.value)}(e)},onKeyDown:function(e){return function(e){if(console.log("keySearch"),"Enter"===e.key){var n=l;t.fetchItems(n,1),console.log(t.newsItems),document.getElementById(t.pageNum).classList.add("selected")}}(e)}}),r.a.createElement(f.a.Append,null,r.a.createElement(p.a,{variant:"outline-secondary",onClick:function(e){return function(e){console.log("searchItems"),e.preventDefault();var n=l;t.fetchItems(n,1),console.log(t.newsItems),document.getElementById(t.pageNum).classList.add("selected")}(e)}},"Search")))))},b=n(23),y=n(48),w=(n(38),function(e){var t=Object(a.useContext)(E),n=t.newsItems,c=t.pages,l=t.query,o=t.pageNum;Object(a.useEffect)((function(){t.fetchTopHeadlines()}),[]),Object(a.useEffect)((function(){var e=Array.from(document.querySelectorAll(".pageHolder div")),t=document.getElementById(o);e.forEach((function(t,n){e[n].classList.remove("selected")})),t.classList.add("selected")}),[t.newsItems]);return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement("h2",null,"Current viewing ",t.currentHeadline," News"),r.a.createElement(g.a,null,n?n.map((function(e,t){return r.a.createElement(b.a,{md:6,lg:4,key:t},r.a.createElement(y.a,null,r.a.createElement("div",{className:"cardImg"},r.a.createElement(y.a.Img,{variant:"top",src:e.urlToImage})),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Title,null,e.title),r.a.createElement(y.a.Text,null,e.source.name," - ",function(e){if(e){var t=e.getDate(),n=e.getMonth(),a=e.getFullYear();return["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+t+", "+a}}(new Date(e.publishedAt))),r.a.createElement(y.a.Text,null,e.description)),r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"})))})):r.a.createElement(b.a,{md:4},r.a.createElement(y.a,null,r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Title,null,"Error"),r.a.createElement(y.a.Text,null,r.a.createElement("p",null,"Failed to Fetch Data from News API"))))),r.a.createElement("div",{class:"pageHolder"},c.map((function(e,n){return r.a.createElement("div",{id:n+1,key:n+1,onClick:function(e){return t.fetchItems(l,e.target.id)},className:"pagenumber"},n+1)}))))))}),I=(n(39),function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)("Latest"),s=Object(i.a)(o,2),u=s[0],m=s[1],g=Object(a.useState)(""),d=Object(i.a)(g,2),f=d[0],h=d[1],p=Object(a.useState)("1"),v=Object(i.a)(p,2),b=v[0],y=v[1],w=Object(a.useState)(["1"]),I=Object(i.a)(w,2),N=I[0],O=I[1],j=Object(a.useState)(""),S=Object(i.a)(j,2),T=S[0],C=S[1];return r.a.createElement(E.Provider,{value:{newsItems:c,fetchTopHeadlines:function(){console.log("top headlines fetched"),fetch("/topheadlines",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pageNum:b})}).then((function(e){return e.json()})).then((function(e){l(e.articles),console.log(e);for(var t=Math.round(e.totalResults/e.articles.length),n=[],a=1;a<=t;a++)a<=5&&n.push(a);O(n)})).catch((function(e){return h(e)}))},fetchItems:function(e,t){var n;console.log("category/search/pagenumber toggle fetched"),console.log("query is: "+e+" and page number is:"+b),t&&y(t),m(e),C(e),n=""!==e&&"Latest"!==e?"https://newsapi.org/v2/everything?q=".concat(e,"&pageSize=20&page=").concat(t):"https://newsapi.org/v2/top-headlines?country=us&pageSize=20&page=".concat(t),fetch("/fetchitems",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n})}).then((function(e){return e.json()})).then((function(e){l(e.articles),console.log(e);for(var t=Math.round(e.totalResults/e.articles.length),n=[],a=1;a<=t;a++)a<=5&&n.push(a);O(n),console.log(n)})).catch((function(e){return h(e)}))},currentHeadline:u,errorMsg:f,pages:N,query:T,pageNum:b,setPageNum:y}},e.children)}),N=function(e){return r.a.createElement(I,null,r.a.createElement(u,e),r.a.createElement(v,e),r.a.createElement(w,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(o.a,null,r.a.createElement(s.a,{path:"/",render:function(e){return r.a.createElement(N,e)}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.c6c68097.chunk.js.map